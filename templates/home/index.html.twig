{#{% extends 'base.html.twig' %}#}

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
        integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href={{ asset('assets/style.scss') }}>
    <title>Document</title>
</head>

{#<body>#}

    <header class="header">

        <div class="logoSearch">
            <div class="logo">
                <i class="fab fa-facebook-f"></i>
            </div>
{#            <div class="search">#}
{#                <div class="svg">#}
{#                    <img src="./svg/search.svg" alt="Search">#}
{#                </div>#}
{#                <input type="text" placeholder="Search Facebook">#}
{#            </div>#}
        </div>

{#        <div class="mainMenu">#}
{#            <div class="svg active">#}
{#                <img src="./svg/home.svg" alt="Facebook Home" srcset="">#}
{#            </div>#}
{#            <div class="svg">#}
{#                <img src="./svg/tv.svg" alt="Facebook Watch" srcset="">#}
{#            </div>#}
{#            <div class="svg">#}
{#                <img src="./svg/store.svg" alt="Facebook Store" srcset="">#}
{#            </div>#}
{#            <div class="svg">#}
{#                <img src="./svg/users.svg" alt="Facebook Groups" srcset="">#}
{#            </div>#}
{#            <div class="svg">#}
{#                <img src="./svg/map.svg" alt="Facebook Play" srcset="">#}
{#            </div>#}
{#        </div>#}

        <div class="profileTools">

            <div class="tools">
{#                <div class="svg">#}
{#                    <img src="./svg/plus.svg" alt="Add">#}
{#                </div>#}
{#                <div class="svg">#}
{#                    <img src="./svg/blackberry-messenger.svg" alt="Messages">#}
{#                </div>#}
{#                <div class="svg">#}
{#                    <img src="./svg/bell.svg" alt="Notifications">#}
{#                </div>#}
{#                <div class="svg">#}
{#                    <img src="./svg/down-arrow.svg" alt="Dropdown">#}
{#                </div>#}
            </div>
            <div class="profile">
{#                <div class="img" style="background-image: url('{{ asset('assets/img/profile.jpg') }}');"></div>#}
                <div class="username">{{ user.firstName }} {{ user.lastName}} </div>
            </div>
        </div>



    </header>

{#    Sidebar left#}
    <div class="sideBarContainer">
        <div class="sidebar left">
            <div class="container borderNone">
                {% for gp in groups %}
                    <div class="globalProfile join_grp">
                        <div class="name">{{ gp.name }}</div>

                        <form action="{{ path('join_membership', { 'id': gp.id }) }}" method="POST" style="display: inline;">
                            <input type="hidden" name="groupId" value="{{ gp.id }}">
                            <button type="submit" class="globalRoundProfile"
                                    style="background-image: url('{{ asset('assets/img/plus.png') }}');
                                            width: 20px; height: 20px; border: none; cursor: pointer;">
                            </button>
{#                            <div class="globalRoundProfile" style="background-image: url('{{ asset('assets/img/plus.png') }}');#}
{#                                    width: 15px; height: 15px">#}
{#                            </div>#}
                        </form>

                    </div>
                {% endfor %}

            </div>

{#            <div class="container">#}
{#                <div class="mainTitle">#}
{#                    <h3 class="padding">Your Shortcuts</h3>#}
{#                    <a href="#">Edit</a>#}
{#                </div>#}
{#                <div class="globalProfile">#}
{#                    <div class="globalRoundProfile r-10" style="background-image: url(./img/code1.jpg);"></div>#}
{#                    <div class="name">Html Css Javascript</div>#}
{#                </div>#}
{#                <div class="globalProfile">#}
{#                    <div class="globalRoundProfile r-10" style="background-image: url(./img/code2.jpg);"></div>#}
{#                    <div class="name">Tutorials</div>#}
{#                </div>#}
{#                <div class="globalProfile">#}
{#                    <div class="globalRoundProfile r-10" style="background-image: url(./img/code3.jpg);"></div>#}
{#                    <div class="name">Coding</div>#}
{#                </div>#}
{#                <div class="globalProfile">#}
{#                    <div class="globalRoundProfile r-10" style="background-image: url(./img/code4.jpg);"></div>#}
{#                    <div class="name">VueJS</div>#}
{#                </div>#}
{#                <div class="globalProfile">#}
{#                    <div class="globalRoundProfile circle">#}
{#                        <i class="fas fa-angle-down"></i>#}
{#                    </div>#}
{#                    <div class="name">See More</div>#}
{#                </div>#}
{#            </div>#}
        </div>

        <div class="sidebar right">
            <div class="container">

                {% for mbr in memberships %}
                    <div class="globalProfile join_grp">
                        <form action="{{ path('remove_membership', { 'id': mbr.id }) }}" method="POST" style="display: inline;">
                            <input type="hidden" name="groupId" value="{{ mbr.id }}">
                            <button type="submit" class="globalRoundProfile"
                                    style="background-image: url('{{ asset('assets/img/minus.png') }}');
                                            width: 20px; height: 20px; border: none; cursor: pointer;">
                            </button>
                        </form>
                        <div class="name">{{ mbr.name }}</div>
                    </div>
                {% endfor %}

            </div>
        </div>
    </div>

    <div class="sectionCenter">

{#        <div class="story">#}
{#            <div class="cover">#}
{#                <div class="create">#}
{#                    <div class="svg">#}
{#                        <img src="./svg/plusWhite.svg" alt="Create Story">#}
{#                    </div>#}
{#                    <h3>Create a <br> Story</h3>#}
{#                </div>#}
{#                <div class="bg" style="background-image: url(./img/profile_story.jpg);">#}
{#                    <span></span>#}
{#                </div>#}
{#            </div>#}

{#            <div class="cover">#}
{#                <div class="pro">#}
{#                    <div class="globalRoundProfile" style="background-image: url(./img/2.jpg);"></div>#}
{#                </div>#}
{#                <h3>FilipCodes YT</h3>#}
{#                <div class="bg" style="background-image: url(./img/7.jpg);">#}
{#                    <span></span>#}
{#                </div>#}
{#            </div>#}

{#            <div class="cover">#}
{#                <div class="pro">#}
{#                    <div class="globalRoundProfile" style="background-image: url(./img/3.jpg);"></div>#}
{#                </div>#}
{#                <h3>User Name</h3>#}
{#                <div class="bg" style="background-image: url(./img/8.jpg);">#}
{#                    <span></span>#}
{#                </div>#}
{#            </div>#}
{#            <div class="cover">#}
{#                <div class="pro">#}
{#                    <div class="globalRoundProfile" style="background-image: url(./img/4.jpg);"></div>#}
{#                </div>#}
{#                <h3>User Name</h3>#}
{#                <div class="bg" style="background-image: url(./img/9.jpg);">#}
{#                    <span></span>#}
{#                </div>#}
{#            </div>#}
{#            <div class="cover">#}
{#                <div class="pro">#}
{#                    <div class="globalRoundProfile" style="background-image: url(./img/5.jpg);"></div>#}
{#                </div>#}
{#                <h3>User Name</h3>#}
{#                <div class="bg" style="background-image: url(./img/10.jpg);">#}
{#                    <span></span>#}
{#                </div>#}
{#            </div>#}
{#            <div class="cover">#}
{#                <div class="pro">#}
{#                    <div class="globalRoundProfile" style="background-image: url(./img/6.jpg);"></div>#}
{#                </div>#}
{#                <h3>User Name</h3>#}
{#                <div class="bg" style="background-image: url(./img/11.jpg);">#}
{#                    <span></span>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}

        <div class="createPost">
            <div class="input">
                <div class="globalRoundProfile" style="background-image: url('{{ asset('assets/img/2.jpg') }}');">
                    <span></span>
                </div>
                <div class="btn post" id="openModal">
                    What's on your mind, FilipCodes YT?
                </div>
            </div>

{#            <div class="buttons">#}
{#                <span>#}
{#                    <div class="svg">#}
{#                        <img src="./svg/live_video.svg" alt="">#}
{#                    </div>#}
{#                    <h4>Live Video</h4>#}
{#                </span>#}
{#                <span>#}
{#                    <div class="svg">#}
{#                        <img src="./svg/photo.svg" alt="">#}
{#                    </div>#}
{#                    <h4>Photo/Video</h4>#}
{#                </span>#}
{#                <span>#}
{#                    <div class="svg">#}
{#                        <img src="./svg/smile.svg" alt="">#}
{#                    </div>#}
{#                    <h4>Feeling/Activity</h4>#}
{#                </span>#}
{#            </div>#}
        </div>

        {% if posts is not null and posts|length > 0 %}
            {% for p in posts %}

                <div class="mainPosts">
                    <div class="title">
                        <div class="profile">
                            <div class="globalRoundProfile" style="background-image: url('{{ asset('assets/img/1.jpg') }}');">
                                <span></span>
                            </div>

                            <div class="name">
                                <a href="#">{{ p.firstName  }}  {{ p.lastName }}</a>
                                <span>{{ p.name }} | {{ p.createdAt|date('Y-m-d H:i') }} <i class="fas fa-globe-americas"></i></span>
                            </div>
                        </div>
                        <i class="fas fa-ellipsis-h"></i>
                    </div>

                    <div class="description">
                        <p>{{ p.content }}</p>
                    </div>

                    <div class="likeShare">
                        <form action="{{ path('post_upvote', { id: p.post_id }) }}" method="POST" class="upvote-form">
                            <button type="submit" class="upvote-button">
                                <div class="svg">
                                    <img src="{{ asset('assets/svg/upvote.svg') }}" alt="Upvote">
                                </div>
                                <h3>{{ p.upvotes }}</h3>
                            </button>
                        </form>

                        <span>
{#                        <form action="{{ path('remove_membership', { 'id': mbr.id }) }}" method="POST" style="display: inline;">#}
                            {#                            <input type="hidden" name="groupId" value="{{ mbr.id }}">#}
                            {#                            <button type="submit" class="globalRoundProfile"#}
                            {#                                    style="background-image: url('{{ asset('assets/img/minus.png') }}');#}
                            {#                                            width: 20px; height: 20px; border: none; cursor: pointer;">#}
                            {#                            </button>#}
                            {#                        </form>#}
                        <div class="svg">
                            <img src="{{ asset('assets/svg/downvote.svg') }}" alt="">
                        </div>
                        <h3>{{ p.downvotes }}</h3>
                    </span>
                        <span>
                        <div class="svg">
                            <img src="{{ asset('assets/svg/comment.svg') }}" alt="">
                        </div>
                        <h3>Comment</h3>
                    </span>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>No posts available.</p>
        {% endif %}

{#        <div class="rooms">#}
{#            <div class="title">#}
{#                <div class="left">#}
{#                    <i class="fas fa-video"></i>#}
{#                    <h3>Rooms</h3>#}
{#                    <p>Video chat with friends</p>#}
{#                    <i class="fas fa-exclamation-circle"></i>#}
{#                </div>#}
{#                <div class="right">#}
{#                    <a href="#">Create Room</a>#}
{#                </div>#}
{#            </div>#}
{#            <div class="profiles">#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/profile.jpg);">#}
{#                    <div class="svg">#}
{#                        <img src="./svg/plusWhite.svg" alt="">#}
{#                    </div>#}
{#                    <span></span>#}
{#                    <div class="darkSpan"></div>#}
{#                </div>#}

{#                <div class="globalRoundProfile" style="background-image: url(./img/1.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/2.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/3.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/4.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/5.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/6.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/7.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/8.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/9.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/10.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/11.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#                <div class="globalRoundProfile" style="background-image: url(./img/12.jpg);">#}
{#                    <span></span>#}
{#                    <div class="active"></div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}

{#    </div>#}
{#        <button class="btn" id="openModal">Open Post Modal</button>#}
{#        <form action="{{ path('remove_membership', { 'id': mbr.id }) }}" method="POST" style="display: inline;">#}

{#        </form>#}
        <div class="modal" id="postModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Group Post</h3>
                    <span class="close" id="closeModal">&times;</span>
                </div>
                <form  action="{{ path('post_new') }}" method="POST">
                    <div class="form-group">
                        <label for="postTitle">Title</label>
                        <input type="text" id="postTitle" name="title" placeholder="Enter title" required>
                    </div>
                    <div class="form-group">
                        <label for="postGroup">Select Group</label>
                        <select id="postGroup" name="group" class="form-control">
                            {% for membership in memberships %}
                                <option value="{{ membership.id }}">{{ membership.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="postContent">Content</label>
                        <textarea id="postContent" name="content" rows="4" placeholder="Write your post..." required></textarea>
                    </div>
{#                    <button type="submit" class="btn-primary">Post</button>#}
                    <button type="submit" class="btn">
                        <i class="fas fa-paper-plane"></i> Post
                    </button>

                </form>
            </div>
        </div>


        <script>
            const openModalButton = document.getElementById('openModal');
            const closeModalButton = document.getElementById('closeModal');
            const modal = document.getElementById('postModal');

            openModalButton.addEventListener('click', () => {
                modal.style.display = 'flex';
            });

            closeModalButton.addEventListener('click', () => {
                modal.style.display = 'none';
            });

            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        </script>
    </div>
{#</body>#}